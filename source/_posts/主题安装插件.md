---
title: Front-matter 的基本认识
date: 2023-11-11
updated:
tags:
categories: 教程
keywords: 教程
description:
top_img: https://cdn.jsdelivr.net/gh/time1y/time1y-images-hosting@master/20231212/60a3497b48c1aec6e86c99a9d644bedf8b9f525b.kyxult29fgw.webp
comments:
cover: https://cdn.jsdelivr.net/gh/time1y/time1y-images-hosting@master/20231212/60a3497b48c1aec6e86c99a9d644bedf8b9f525b.kyxult29fgw.webp
toc:
toc_number:
toc_style_simple:
copyright:
copyright_author:
copyright_author_href:
copyright_url:
copyright_info:
mathjax:
katex:
aplayer:
highlight_shrink:
aside:
swiper_index: 1
top_group_index: 1
background: "#fff"
---

本文介绍了 Hexo Anzhiyu 主题下 Algolia 搜索的使用

## 注册账号

前往 [Algolia](https://www.algolia.com/users/sign_up) 官网注册一个账号，新建 应用和 index [![](https://cdn.nlark.com/yuque/0/2021/png/8391407/1620791672826-3bac29b1-3f60-4be8-bdc5-7b615e72f78a.png#averageHue=%23e2f9f1&height=721&id=u2756c9ea&originHeight=721&originWidth=1469&originalType=binary&ratio=1&rotation=0&showTitle=false&size=115021&status=done&style=none&title=&width=1469)](https://cdn.nlark.com/yuque/0/2021/png/8391407/1620791672826-3bac29b1-3f60-4be8-bdc5-7b615e72f78a.png#averageHue=%23e2f9f1&height=721&id=u2756c9ea&originHeight=721&originWidth=1469&originalType=binary&ratio=1&rotation=0&showTitle=false&size=115021&status=done&style=none&title=&width=1469) 数据中心建议选择新加坡或香港，当然根据你自己情况而定

## 安装插件

```
npm install hexo-algolia --save  
npm install hexo-algoliasearch --save
```

分别是 [hexo-algolia](https://github.com/oncletom/hexo-algolia) 和 [hexo-algoliasearch](https://github.com/LouisBarranqueiro/hexo-algoliasearch)，他们的介绍分别为

> Index your hexo website content to Algolia Search.  
> 🔎 A plugin to index posts of your Hexo blog on Algolia

也就很明显了，如果你想要全站搜索可选择前者，如果你只想搜索文章两者兼可。但前者不能将文章内容作为索引上传（其实老版本是支持的，但因为索引大小限制，在新版本取消索引了文章内容），后者目前仍可全文上传。然后就是 HEXO 配置文件中添加以下内容，下文基本以 `hexo-algoliasearch` 为例，因为我个人认为访客只会搜文章吧（事实上是搜索根本没人用，毕竟也根本没人访问），hexo-algolia 可查看官方文档，注意配置和命令的区别

```
_config.ym
```

```
algolia:  
appId: "Z7A3XW4R2I"  
apiKey: "12db1ad54372045549ef465881c17e743"  
adminApiKey: "40321c7c207e7f73b63a19aa24c4761b"  
chunkSize: 5000  
indexName: "my-hexo-blog"  
fields:  
 - content:strip:truncate,0,500  
 - excerpt:strip  
 - gallery  
 - permalink  
 - photos  
 - slug  
 - tags  
 - title
```

为了保险，识别到插件，还可以加入以下内容

```
plugins:  
\- hexo-algoliasearch
```

去主题配置文件打开 Algolia 搜索，记得关闭本地搜索，二者只能取其一！
$$
_config.butterfly.yml :
$$
